(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/collectlist/collectlist"],{"114b":function(t,e,o){"use strict";var n,c=function(){var t=this,e=t.$createElement;t._self._c},i=[];o.d(e,"b",function(){return c}),o.d(e,"c",function(){return i}),o.d(e,"a",function(){return n})},"1b68":function(t,e,o){"use strict";(function(t){o("7e18"),o("921b");n(o("66fd"));var e=n(o("7a1b"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("f266")["createPage"])},"1d30":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o("a34a")),c=o("2f62");function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e,o,n,c,i,l){try{var r=t[i](l),s=r.value}catch(a){return void o(a)}r.done?e(s):Promise.resolve(s).then(n,c)}function r(t){return function(){var e=this,o=arguments;return new Promise(function(n,c){var i=t.apply(e,o);function r(t){l(i,n,c,r,s,"next",t)}function s(t){l(i,n,c,r,s,"throw",t)}r(void 0)})}}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){a(t,e,o[e])})}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var u={data:function(){return{collectlist:[],collectBookId:"",cTotal:0,selectColl:!1}},computed:s({},(0,c.mapGetters)(["userId"])),onLoad:function(){this._initCollectlist()},methods:{_initCollectlist:function(){var t=r(n.default.mark(function t(){var e,o;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={user_id:this.userId,page:1,rows:100},t.next=3,this.$api.bookshelf.BookCaseList(e);case 3:o=t.sent,200===o.code?(o.data.forEach(function(t,e){t.checked=!1}),this.cTotal=o.extra.count,this.collectlist=o.data):(this.cTotal=0,this.collectlist=[]);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),gotoRead:function(e){t.navigateTo({url:"../read/otherread?id=".concat(e.flow_id,"&bid=").concat(e.book_id)})},selectCollShow:function(){this.selectColl=!this.selectColl},selectCollHide:function(){this.selectColl=!1},deleteCollect:function(){var e=r(n.default.mark(function e(){var o,c,i=this;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.collectlist.forEach(function(t,e){t.checked&&(i.collectBookId+=t.book_id+",")}),this.collectBookId=this.collectBookId.slice(0,-1),console.log(this.collectBookId),!this.collectBookId){e.next=11;break}return o={user_id:this.userId,book_id:this.collectBookId},e.next=7,this.$api.bookshelf.DeleteUserCase(o);case 7:c=e.sent,200===c.code?(this.collectBookId="",this.collectlist=[],this._initCollectlist(),this.selectColl=!1):(t.showToast({icon:"none",title:c.msg}),this.collectBookId=""),e.next=12;break;case 11:t.showToast({icon:"none",title:"请选择需要删除的书籍！"});case 12:case"end":return e.stop()}},e,this)}));function o(){return e.apply(this,arguments)}return o}(),handleChecked:function(t){this.selectColl?t.checked=!t.checked:this.gotoRead(t)}}};e.default=u}).call(this,o("f266")["default"])},"640e":function(t,e,o){"use strict";o.r(e);var n=o("1d30"),c=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=c.a},"7a1b":function(t,e,o){"use strict";o.r(e);var n=o("114b"),c=o("640e");for(var i in c)"default"!==i&&function(t){o.d(e,t,function(){return c[t]})}(i);o("a48e");var l,r=o("f0c5"),s=Object(r["a"])(c["default"],n["b"],n["c"],!1,null,"33a955f3",null,!1,n["a"],l);e["default"]=s.exports},a48e:function(t,e,o){"use strict";var n=o("f402"),c=o.n(n);c.a},f402:function(t,e,o){}},[["1b68","common/runtime","common/vendor"]]]);