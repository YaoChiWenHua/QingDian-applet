(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{"1ba9":function(t,e,o){"use strict";(function(t){o("7e18"),o("921b");n(o("66fd"));var e=n(o("2917"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("f266")["createPage"])},2917:function(t,e,o){"use strict";o.r(e);var n=o("81fd"),r=o("ef45");for(var i in r)"default"!==i&&function(t){o.d(e,t,function(){return r[t]})}(i);o("7f0b");var a,s=o("f0c5"),u=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"2e5ce1ef",null,!1,n["a"],a);e["default"]=u.exports},"69df":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(o("a34a")),r=o("a3c5"),i=o("80d8"),a=o("2f62");function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,o,n,r,i,a){try{var s=t[i](a),u=s.value}catch(c){return void o(c)}s.done?e(u):Promise.resolve(u).then(n,r)}function c(t){return function(){var e=this,o=arguments;return new Promise(function(n,r){var i=t.apply(e,o);function a(t){u(i,n,r,a,s,"next",t)}function s(t){u(i,n,r,a,s,"throw",t)}a(void 0)})}}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){f(t,e,o[e])})}return t}function f(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l=function(){return o.e("components/rowbook").then(o.bind(null,"8ca3"))},h={mixins:[i.wordsNumMixin],components:{RowBook:l},data:function(){return{base:r.coverUrl,bookId:"",book:{},cataloglist:[],total:"",recommendlist:[],otherlist:[],isBookShelf:!1}},onLoad:function(t){this.bookId=t.id,this._initData(),this.userId&&this.getIsBookShelf()},onShow:function(){},onReady:function(){},computed:d({},(0,a.mapGetters)(["userId"])),methods:{addBookShelf:function(){var e=c(n.default.mark(function e(){var o,r;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.userId){e.next=8;break}return o={user_id:this.userId,book_id:this.bookId},e.next=4,this.$api.bookshelf.AddUserCase(o);case 4:r=e.sent,r.code,this.isBookShelf=!0,e.next=9;break;case 8:t.showToast({title:"请先登录",icon:"none",duration:2e3});case 9:case"end":return e.stop()}},e,this)}));function o(){return e.apply(this,arguments)}return o}(),getIsBookShelf:function(){var t=c(n.default.mark(function t(){var e,o,r;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={user_id:this.userId,book_id:this.bookId},t.next=3,this.$api.bookshelf.BookIsCase(e);case 3:o=t.sent,200===o.code&&(r="Y"===o.data.is_case,this.isBookShelf=r);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),gotoRead:function(e){t.navigateTo({url:"../read/read?bId=".concat(this.bookId,"&cId=").concat(e)})},_initData:function(){var e=c(n.default.mark(function e(){var o,r,i,a,s;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o={book_id:this.bookId},t.showLoading({title:"加载中..."}),e.next=4,this.$api.book.Detail(o);case 4:return r=e.sent,200===r.code&&(this.book=r.data,t.setNavigationBarTitle({title:r.data.book_title})),e.next=8,this.$api.book.Directory({book_id:this.bookId,sort:1,rows:4});case 8:return i=e.sent,200===i.code&&(this.total=i.extra.count,this.cataloglist=i.data),e.next=12,this.$api.book.RecommendBook({book_id:this.bookId,rows:4});case 12:return a=e.sent,200===a.code&&(this.recommendlist=a.data),t.hideLoading(),e.next=17,this.$api.book.SimilarBook({book_id:this.bookId,rows:4});case 17:s=e.sent,200===s.code&&(this.otherlist=s.data);case 19:case"end":return e.stop()}},e,this)}));function o(){return e.apply(this,arguments)}return o}()}};e.default=h}).call(this,o("f266")["default"])},"7f0b":function(t,e,o){"use strict";var n=o("92c1"),r=o.n(n);r.a},"81fd":function(t,e,o){"use strict";var n,r=function(){var t=this,e=t.$createElement,o=(t._self._c,t._f("wordsNum")(t.book.word_count));t.$mp.data=Object.assign({},{$root:{f0:o}})},i=[];o.d(e,"b",function(){return r}),o.d(e,"c",function(){return i}),o.d(e,"a",function(){return n})},"92c1":function(t,e,o){},ef45:function(t,e,o){"use strict";o.r(e);var n=o("69df"),r=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=r.a}},[["1ba9","common/runtime","common/vendor"]]]);