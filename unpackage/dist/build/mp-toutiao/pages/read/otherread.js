(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/read/otherread"],{"01c4":function(t,e,n){"use strict";n.r(e);var r=n("35e0"),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);e["default"]=o.a},"0cb1":function(t,e,n){"use strict";(function(t){n("7e18"),n("921b");r(n("66fd"));var e=r(n("f11a"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("f266")["createPage"])},"2ede":function(t,e,n){},"35e0":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("a34a")),o=n("a3c5"),i=n("2f62");function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,u,"next",t)}function u(t){c(i,r,o,a,u,"throw",t)}a(void 0)})}}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){d(t,e,n[e])})}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={data:function(){return{flowId:"",bookId:"",cId:"",book:{},title:"",imgUrl:"",flag:1,collect:!1}},onLoad:function(t){this.flowId=t.id,this.bookId="null"==t.bid?0:t.bid,this.cId=t.cid?t.cid:2,this._initData(),this.userId&&this.getIsBookShelf()},computed:s({},(0,i.mapGetters)(["userId"])),methods:{_initData:function(){var t=u(r.default.mark(function t(){var e,n,i,a,c;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={flow_id:this.flowId},n={user_id:this.userId,book_id:this.bookId,flow_id:this.flowId,sort:1},t.next=4,this.$api.read.FlowInfo(e);case 4:return i=t.sent,t.next=7,this.$api.read.Chapter(n);case 7:a=t.sent,200===i.code&&(c=i.data,this.title=c.title,this.imgUrl="".concat(o.baseUrl).concat(c.cover_large),this.flag=c.flag),200===a.code&&(this.book=a.data);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleFlag:function(){t.navigateTo({url:"../read/read?bId=".concat(this.bookId,"&cId=").concat(this.cId)})},handleCollect:function(){var e=u(r.default.mark(function e(){var n,o;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.collect){e.next=2;break}return e.abrupt("return");case 2:if(!this.userId){e.next=10;break}return n={user_id:this.userId,book_id:this.bookId,flow_id:this.flowId},e.next=6,this.$api.bookshelf.AddUserCase(n);case 6:o=e.sent,200===o.code?this.collect=!0:(t.showToast({title:"加入失败",icon:"none",duration:2e3}),this.collect=!1),e.next=11;break;case 10:t.showToast({icon:"none",title:"请先登录",duration:2e3,success:function(){t.switchTab({url:"../user/user"})}});case 11:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),getIsBookShelf:function(){var t=u(r.default.mark(function t(){var e,n;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={user_id:this.userId,book_id:this.bookId,flow_id:this.flowId},t.next=3,this.$api.bookshelf.BookIsCase(e);case 3:n=t.sent,200===n.code&&(this.collect="Y"===n.data.is_case);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}};e.default=l}).call(this,n("f266")["default"])},"88ed":function(t,e,n){"use strict";var r,o=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r})},ad71:function(t,e,n){"use strict";var r=n("2ede"),o=n.n(r);o.a},f11a:function(t,e,n){"use strict";n.r(e);var r=n("88ed"),o=n("01c4");for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);n("ad71");var a,c=n("f0c5"),u=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);e["default"]=u.exports}},[["0cb1","common/runtime","common/vendor"]]]);