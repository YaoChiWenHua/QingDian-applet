(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/user/user"],{"107d":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("d40c")),o=t("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){i(e,n,t[n])})}return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}getApp();var s={data:function(){return{userInfo:{},screenHeight:0,imgUrl:"http://m.haokanread.com/static/default-head.png",hasUserInfo:!1}},onLoad:function(){this.userInfo=e.getStorageSync("__user__")||{},""!=this.userInfo.avatarUrl&&(this.imgUrl=this.userInfo.avatarUrl)},onReady:function(){var n=e.getSystemInfoSync().windowHeight;this.screenHeight=2*n},methods:u({},(0,o.mapMutations)(["setToken"]),{getUserInfo:function(){var n=this,t="",o={};e.getProvider({service:"oauth",success:function(a){t=a.provider,~a.provider.indexOf("alipay")&&e.login({provider:t,scopes:"auth_user",success:function(a){o.code=a.code,e.getUserInfo({provider:t,lang:"zh_CN",success:function(t){o.nickname=t.userInfo.nickName,r.default.post("/mini_login/aliPayLogin",o).then(function(r){200===r.code?(n.userInfo.userId=r.data.user_id,n.userInfo.userName=r.data.user_name,n.userInfo.apiToken=r.data.api_token,n.userInfo.nickName=t.userInfo.nickName,n.userInfo.avatarUrl=t.userInfo.avatarUrl,n.imgUrl=t.userInfo.avatarUrl,n.setToken(r.data),e.setStorageSync("__user__",n.userInfo)):e.showToast({title:r.msg,icon:"none",duration:2e3})})}})}})}})},copyUserName:function(){var n=this.userInfo.nickName;e.setClipboardData({data:n,success:function(){e.showToast({title:"复制成功",duration:2e3})}})}}),onTabItemTap:function(e){}};n.default=s}).call(this,t("c11b")["default"])},"8eee":function(e,n,t){"use strict";var r=t("f36b"),o=t.n(r);o.a},a789:function(e,n,t){"use strict";t.r(n);var r=t("ea9c"),o=t("fe51");for(var a in o)"default"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);t("8eee");var u=t("2877"),i=Object(u["a"])(o["default"],r["a"],r["b"],!1,null,"8abbf788",null);n["default"]=i.exports},ea9c:function(e,n,t){"use strict";var r=function(){var e=this,n=e.$createElement;e._self._c},o=[];t.d(n,"a",function(){return r}),t.d(n,"b",function(){return o})},f36b:function(e,n,t){},fe51:function(e,n,t){"use strict";t.r(n);var r=t("107d"),o=t.n(r);for(var a in r)"default"!==a&&function(e){t.d(n,e,function(){return r[e]})}(a);n["default"]=o.a}},[["96cd","common/runtime","common/vendor"]]]);